# ğŸ¢ TikTokå®˜æ–¹APIæ³¨å†Œå’Œä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

TikTokå®˜æ–¹APIï¼ˆTikTok for Developersï¼‰æä¾›äº†æ›´å¯é ã€æ›´å®˜æ–¹çš„æ•°æ®è®¿é—®æ–¹å¼ã€‚è™½ç„¶ç”³è¯·è¿‡ç¨‹ç›¸å¯¹å¤æ‚ï¼Œä½†å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

### âœ… å®˜æ–¹APIä¼˜åŠ¿
- **æ•°æ®å‡†ç¡®æ€§æœ€é«˜** - ç›´æ¥æ¥æºäºTikTokå®˜æ–¹
- **åŠŸèƒ½æ›´å…¨é¢** - æ”¯æŒæ›´å¤šæ•°æ®å­—æ®µå’Œæ“ä½œ
- **é•¿æœŸç¨³å®š** - å®˜æ–¹ç»´æŠ¤ï¼Œä¸ä¼šçªç„¶åœæ­¢æœåŠ¡
- **åˆè§„æ€§** - ç¬¦åˆTikTokå®˜æ–¹æ”¿ç­–

### âŒ é™åˆ¶
- **ç”³è¯·å®¡æ ¸** - éœ€è¦å¼€å‘è€…å®¡æ ¸ï¼ˆ1-2å‘¨ï¼‰
- **å•†ä¸šç”¨é€”** - ä¸»è¦é¢å‘å•†ä¸šå’Œä¼ä¸šç”¨æˆ·
- **OAuthè®¤è¯** - éœ€è¦ç”¨æˆ·æˆæƒï¼Œæµç¨‹è¾ƒå¤æ‚

## ğŸš€ ç”³è¯·æ­¥éª¤

### ç¬¬1æ­¥ï¼šæ³¨å†ŒTikTokå¼€å‘è€…è´¦å·

1. **è®¿é—®å¼€å‘è€…å¹³å°**
   - ç½‘å€ï¼šhttps://developers.tiktok.com/
   - ç‚¹å‡» "Get Started" å¼€å§‹æ³¨å†Œ

2. **åˆ›å»ºå¼€å‘è€…è´¦å·**
   - ä½¿ç”¨ä½ çš„TikTokè´¦å·ç™»å½•
   - æˆ–ä½¿ç”¨é‚®ç®±æ³¨å†Œæ–°è´¦å·

3. **å®Œå–„ä¸ªäºº/å…¬å¸ä¿¡æ¯**
   - **ä¸ªäººå¼€å‘è€…**ï¼šæä¾›èº«ä»½è¯æ˜
   - **ä¼ä¸šå¼€å‘è€…**ï¼šæä¾›è¥ä¸šæ‰§ç…§ç­‰

### ç¬¬2æ­¥ï¼šæäº¤åº”ç”¨ç”³è¯·

1. **åˆ›å»ºæ–°åº”ç”¨**
   - åœ¨Dashboardç‚¹å‡» "Create App"
   - å¡«å†™åº”ç”¨åŸºæœ¬ä¿¡æ¯

2. **åº”ç”¨ä¿¡æ¯è¦æ±‚**
   ```
   åº”ç”¨åç§°ï¼šTikTok Data Analytics Dashboard
   åº”ç”¨æè¿°ï¼šç”¨äºTikTokè§†é¢‘æ•°æ®åˆ†æå’Œç»Ÿè®¡çš„ä»ªè¡¨æ¿
   åº”ç”¨ç±»å‹ï¼šAnalytics & Data
   ç”¨æˆ·ç±»å‹ï¼šCreator/Business
   ```

3. **æŠ€æœ¯ä¿¡æ¯**
   ```
   å¹³å°ï¼šWeb Application
   å›è°ƒURLï¼šhttp://localhost:5000/callback
   åŸŸåï¼šlocalhost (å¼€å‘ç¯å¢ƒ)
   ```

### ç¬¬3æ­¥ï¼šç”³è¯·APIæƒé™

é€‰æ‹©éœ€è¦çš„APIæƒé™èŒƒå›´ï¼š

#### ğŸ“Š æ•°æ®åˆ†æç›¸å…³æƒé™
- **user.info.basic** - åŸºæœ¬ç”¨æˆ·ä¿¡æ¯
- **user.info.profile** - ç”¨æˆ·æ¡£æ¡ˆä¿¡æ¯
- **user.info.stats** - ç”¨æˆ·ç»Ÿè®¡æ•°æ®
- **video.list** - è§†é¢‘åˆ—è¡¨
- **video.info** - è§†é¢‘è¯¦ç»†ä¿¡æ¯

#### ğŸ“ˆ åˆ†ææƒé™
- **research.adlib.basic** - å¹¿å‘Šåº“åŸºç¡€è®¿é—®
- **research.data.basic** - ç ”ç©¶æ•°æ®åŸºç¡€è®¿é—®

### ç¬¬4æ­¥ï¼šç­‰å¾…å®¡æ ¸

- **å®¡æ ¸æ—¶é—´**ï¼šé€šå¸¸1-2å‘¨
- **å®¡æ ¸æ ‡å‡†**ï¼š
  - åº”ç”¨çš„åˆæ³•æ€§å’Œåˆè§„æ€§
  - å•†ä¸šç”¨é€”çš„åˆç†æ€§
  - æ•°æ®ä½¿ç”¨çš„é€æ˜åº¦

## ğŸ”§ æŠ€æœ¯é›†æˆ

### è·å–åº”ç”¨å‡­è¯

å®¡æ ¸é€šè¿‡åï¼Œä½ å°†è·å¾—ï¼š
```
Client Key: your_client_key
Client Secret: your_client_secret
```

### OAuthè®¤è¯æµç¨‹

TikTokå®˜æ–¹APIä½¿ç”¨OAuth 2.0è®¤è¯ï¼š

1. **ç”¨æˆ·æˆæƒ** - è·³è½¬åˆ°TikTokæˆæƒé¡µé¢
2. **è·å–æˆæƒç ** - ç”¨æˆ·åŒæ„åè¿”å›authorization code
3. **äº¤æ¢è®¿é—®ä»¤ç‰Œ** - ç”¨codeæ¢å–access token
4. **APIè°ƒç”¨** - ä½¿ç”¨access tokenè°ƒç”¨API

## ğŸ’» ä»£ç é…ç½®

æˆ‘ä¸ºä½ åˆ›å»ºäº†å®˜æ–¹APIé›†æˆä»£ç ï¼š

### 1. æ›´æ–°é…ç½®æ–‡ä»¶

```python
# config.py æ·»åŠ å®˜æ–¹APIé…ç½®
class Config:
    # å®˜æ–¹APIé…ç½®
    TIKTOK_CLIENT_KEY = os.environ.get('TIKTOK_CLIENT_KEY') or None
    TIKTOK_CLIENT_SECRET = os.environ.get('TIKTOK_CLIENT_SECRET') or None
    TIKTOK_REDIRECT_URI = "http://localhost:5000/callback"
    
    # OAuthé…ç½®
    TIKTOK_OAUTH_URL = "https://www.tiktok.com/auth/authorize/"
    TIKTOK_TOKEN_URL = "https://open-api.tiktok.com/oauth/access_token/"
    
    @classmethod
    def has_official_api_config(cls):
        return cls.TIKTOK_CLIENT_KEY and cls.TIKTOK_CLIENT_SECRET
```

### 2. OAuthè®¤è¯æµç¨‹

```python
# oauth_handler.py
import requests
from config import Config

class TikTokOAuth:
    def __init__(self):
        self.client_key = Config.TIKTOK_CLIENT_KEY
        self.client_secret = Config.TIKTOK_CLIENT_SECRET
        self.redirect_uri = Config.TIKTOK_REDIRECT_URI
    
    def get_auth_url(self):
        """ç”ŸæˆæˆæƒURL"""
        auth_url = (
            f"{Config.TIKTOK_OAUTH_URL}?"
            f"client_key={self.client_key}&"
            f"scope=user.info.basic,user.info.profile,user.info.stats,video.list&"
            f"response_type=code&"
            f"redirect_uri={self.redirect_uri}&"
            f"state=your_csrf_state"
        )
        return auth_url
    
    def exchange_code_for_token(self, authorization_code):
        """ç”¨æˆæƒç æ¢å–è®¿é—®ä»¤ç‰Œ"""
        data = {
            'client_key': self.client_key,
            'client_secret': self.client_secret,
            'code': authorization_code,
            'grant_type': 'authorization_code',
            'redirect_uri': self.redirect_uri
        }
        
        response = requests.post(Config.TIKTOK_TOKEN_URL, data=data)
        return response.json()
```

## ğŸ”„ é›†æˆåˆ°ç°æœ‰é¢æ¿

### æ·»åŠ æˆæƒè·¯ç”±

åœ¨ `app.py` ä¸­æ·»åŠ ï¼š

```python
@app.route('/auth')
def authorize():
    """è·³è½¬åˆ°TikTokæˆæƒé¡µé¢"""
    from oauth_handler import TikTokOAuth
    oauth = TikTokOAuth()
    auth_url = oauth.get_auth_url()
    return redirect(auth_url)

@app.route('/callback')
def callback():
    """å¤„ç†æˆæƒå›è°ƒ"""
    code = request.args.get('code')
    if code:
        from oauth_handler import TikTokOAuth
        oauth = TikTokOAuth()
        token_data = oauth.exchange_code_for_token(code)
        # ä¿å­˜access token
        session['access_token'] = token_data.get('access_token')
        return redirect('/')
    return "æˆæƒå¤±è´¥"
```

### ä½¿ç”¨å®˜æ–¹APIè·å–æ•°æ®

```python
# tiktok_official_api.py
class TikTokOfficialAPI:
    def __init__(self, access_token):
        self.access_token = access_token
        self.base_url = "https://open-api.tiktok.com"
    
    def get_user_info(self):
        """è·å–ç”¨æˆ·ä¿¡æ¯"""
        headers = {'Authorization': f'Bearer {self.access_token}'}
        response = requests.get(
            f"{self.base_url}/v2/user/info/",
            headers=headers
        )
        return response.json()
    
    def get_user_videos(self, cursor=None, count=20):
        """è·å–ç”¨æˆ·è§†é¢‘åˆ—è¡¨"""
        headers = {'Authorization': f'Bearer {self.access_token}'}
        params = {'count': count}
        if cursor:
            params['cursor'] = cursor
            
        response = requests.get(
            f"{self.base_url}/v2/video/list/",
            headers=headers,
            params=params
        )
        return response.json()
```

## ğŸ¯ ç”³è¯·æŠ€å·§

### æé«˜ç”³è¯·æˆåŠŸç‡

1. **æ˜ç¡®å•†ä¸šç”¨é€”**
   - è¯¦ç»†è¯´æ˜æ•°æ®åˆ†æçš„ç›®çš„
   - å±•ç¤ºä¸“ä¸šçš„åº”ç”¨ç•Œé¢
   - æä¾›å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£

2. **å±•ç¤ºåˆè§„æ€§**
   - è¯´æ˜æ•°æ®éšç§ä¿æŠ¤æªæ–½
   - éµå®ˆTikTokç¤¾åŒºå‡†åˆ™
   - æ˜ç¡®æ•°æ®ä½¿ç”¨èŒƒå›´

3. **æä¾›å®Œæ•´ä¿¡æ¯**
   - è¯¦ç»†çš„åº”ç”¨æè¿°
   - æ¸…æ™°çš„æŠ€æœ¯æ¶æ„
   - é¢„æœŸçš„ç”¨æˆ·ç¾¤ä½“

### ç”³è¯·ææ–™å‡†å¤‡

```
ğŸ“„ å¿…éœ€ææ–™ï¼š
- åº”ç”¨æˆªå›¾å’Œæ¼”ç¤º
- æŠ€æœ¯æ¶æ„æ–‡æ¡£
- æ•°æ®ä½¿ç”¨è¯´æ˜
- éšç§æ”¿ç­–æ–‡æ¡£
- å•†ä¸šè®¡åˆ’æ¦‚è¿°

ğŸ¢ ä¼ä¸šç”¨æˆ·é¢å¤–éœ€è¦ï¼š
- è¥ä¸šæ‰§ç…§
- å…¬å¸ä»‹ç»
- æŠ€æœ¯å›¢é˜Ÿä¿¡æ¯
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

### APIä½¿ç”¨é™åˆ¶
- **è¯·æ±‚é¢‘ç‡é™åˆ¶** - æ¯åˆ†é’Ÿ/å°æ—¶æœ‰è°ƒç”¨æ¬¡æ•°é™åˆ¶
- **æ•°æ®è®¿é—®èŒƒå›´** - åªèƒ½è®¿é—®æˆæƒç”¨æˆ·çš„æ•°æ®
- **åœ°åŒºé™åˆ¶** - æŸäº›åœ°åŒºå¯èƒ½æœ‰è®¿é—®é™åˆ¶

### è´¹ç”¨è¯´æ˜
- **ä¸ªäººå¼€å‘è€…** - åŸºç¡€ç‰ˆå…è´¹ï¼Œæœ‰è°ƒç”¨æ¬¡æ•°é™åˆ¶
- **å•†ä¸šç”¨æˆ·** - æ ¹æ®è°ƒç”¨é‡æ”¶è´¹
- **ä¼ä¸šç‰ˆ** - è”ç³»TikToké”€å”®å›¢é˜Ÿ

## ğŸ“ è·å–å¸®åŠ©

- **å¼€å‘è€…æ–‡æ¡£**ï¼šhttps://developers.tiktok.com/doc/
- **APIå‚è€ƒ**ï¼šhttps://developers.tiktok.com/doc/tiktok-api-reference/
- **å¼€å‘è€…è®ºå›**ï¼šhttps://developers.tiktok.com/community/
- **æŠ€æœ¯æ”¯æŒ**ï¼šé€šè¿‡å¼€å‘è€…å¹³å°æäº¤å·¥å•

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **ç«‹å³ç”³è¯·**ï¼šè®¿é—® https://developers.tiktok.com/
2. **å‡†å¤‡ææ–™**ï¼šæŒ‰ç…§ä¸Šè¿°æ¸…å•å‡†å¤‡ç”³è¯·ææ–™
3. **æäº¤ç”³è¯·**ï¼šå¡«å†™è¯¦ç»†çš„åº”ç”¨ä¿¡æ¯
4. **ç­‰å¾…å®¡æ ¸**ï¼šé€šå¸¸1-2å‘¨è·å¾—ç»“æœ
5. **é›†æˆAPI**ï¼šä½¿ç”¨ä¸Šè¿°ä»£ç ç¤ºä¾‹

**ğŸ’¡ å»ºè®®**ï¼šåœ¨ç­‰å¾…å®¡æ ¸æœŸé—´ï¼Œå¯ä»¥å…ˆä½¿ç”¨TikAPIè¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œå®¡æ ¸é€šè¿‡åå†åˆ‡æ¢åˆ°å®˜æ–¹APIã€‚ 